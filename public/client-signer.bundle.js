var _=(e,t)=>()=>(e&&(t=e(e=0)),t);function Fe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}var Et=_(()=>{});function wr(e){return Fe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var Ln=_(()=>{Et()});var Er,Nn=_(()=>{Er="2.40.3"});function _n(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?_n(e.cause,t):t?null:e}var vr,oe,ot=_(()=>{Nn();vr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${Er}`},oe=class e extends Error{constructor(t,r={}){let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,o=r.cause instanceof e&&r.cause.docsPath||r.docsPath,s=vr.getDocsUrl?.({...r,docsPath:o}),i=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...vr.version?[`Version: ${vr.version}`]:[]].join(`
`);super(i,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=Er}walk(t){return _n(this,t)}}});var st,Mn=_(()=>{ot();st=class extends oe{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}});function ve(e,{dir:t,size:r=32}={}){return typeof e=="string"?Zs(e,{dir:t,size:r}):Ys(e,{dir:t,size:r})}function Zs(e,{dir:t,size:r=32}={}){if(r===null)return e;let n=e.replace("0x","");if(n.length>r*2)throw new st({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function Ys(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new st({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let o=0;o<r;o++){let s=t==="right";n[s?o:r-o-1]=e[s?o:e.length-o-1]}return n}var Ir=_(()=>{Mn()});var vt,It,Ar=_(()=>{ot();vt=class extends oe{constructor({max:t,min:r,signed:n,size:o,value:s}){super(`Number "${s}" is not in safe ${o?`${o*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},It=class extends oe{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}});function He(e,{size:t}){if(wr(e)>t)throw new It({givenSize:wr(e),maxSize:t})}var Br=_(()=>{Ar();Ln()});function it(e,t={}){return typeof e=="number"||typeof e=="bigint"?At(e,t):typeof e=="string"?Vn(e,t):typeof e=="boolean"?Dn(e,t):Sr(e,t)}function Dn(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(He(r,{size:t.size}),ve(r,{size:t.size})):r}function Sr(e,t={}){let r="";for(let o=0;o<e.length;o++)r+=Xs[e[o]];let n=`0x${r}`;return typeof t.size=="number"?(He(n,{size:t.size}),ve(n,{dir:"right",size:t.size})):n}function At(e,t={}){let{signed:r,size:n}=t,o=BigInt(e),s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof s=="bigint"&&r?-s-1n:0;if(s&&o>s||o<i){let c=typeof e=="bigint"?"n":"";throw new vt({max:s?`${s}${c}`:void 0,min:`${i}${c}`,signed:r,size:n,value:`${e}${c}`})}let a=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?ve(a,{size:n}):a}function Vn(e,t={}){let r=Js.encode(e);return Sr(r,t)}var Xs,Js,Bt=_(()=>{Ar();Ir();Br();Xs=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));Js=new TextEncoder});function qn(e,t={}){return typeof e=="number"||typeof e=="bigint"?ti(e,t):typeof e=="boolean"?ei(e,t):Fe(e)?Fn(e,t):Tr(e,t)}function ei(e,t={}){let r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(He(r,{size:t.size}),ve(r,{size:t.size})):r}function jn(e){if(e>=de.zero&&e<=de.nine)return e-de.zero;if(e>=de.A&&e<=de.F)return e-(de.A-10);if(e>=de.a&&e<=de.f)return e-(de.a-10)}function Fn(e,t={}){let r=e;t.size&&(He(r,{size:t.size}),r=ve(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let o=n.length/2,s=new Uint8Array(o);for(let i=0,a=0;i<o;i++){let c=jn(n.charCodeAt(a++)),f=jn(n.charCodeAt(a++));if(c===void 0||f===void 0)throw new oe(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[i]=c*16+f}return s}function ti(e,t){let r=At(e,t);return Fn(r)}function Tr(e,t={}){let r=Qs.encode(e);return typeof t.size=="number"?(He(r,{size:t.size}),ve(r,{dir:"right",size:t.size})):r}var Qs,de,Pr=_(()=>{ot();Et();Ir();Br();Bt();Qs=new TextEncoder;de={zero:48,nine:57,A:65,F:70,a:97,f:102}});function ri(e,t=!1){return t?{h:Number(e&St),l:Number(e>>Gn&St)}:{h:Number(e>>Gn&St)|0,l:Number(e&St)|0}}function Wn(e,t=!1){let r=e.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let s=0;s<r;s++){let{h:i,l:a}=ri(e[s],t);[n[s],o[s]]=[i,a]}return[n,o]}var St,Gn,Kn,Zn,Yn,Xn,Jn=_(()=>{St=BigInt(4294967295),Gn=BigInt(32);Kn=(e,t,r)=>e<<r|t>>>32-r,Zn=(e,t,r)=>t<<r|e>>>32-r,Yn=(e,t,r)=>t<<r-32|e>>>64-r,Xn=(e,t,r)=>e<<r-32|t>>>64-r});function ni(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function zr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function at(e,...t){if(!ni(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $r(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qn(e,t){at(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function eo(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Hr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function si(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ii(e){for(let t=0;t<e.length;t++)e[t]=si(e[t]);return e}function ai(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function kr(e){return typeof e=="string"&&(e=ai(e)),at(e),e}function to(e){let t=n=>e().update(kr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}var oi,Rr,Tt,ro=_(()=>{oi=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Rr=oi?e=>e:ii;Tt=class{}});function mi(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,f=r[c],u=r[c+1],l=no(f,u,1)^r[a],x=oo(f,u,1)^r[a+1];for(let y=0;y<50;y+=10)e[i+y]^=l,e[i+y+1]^=x}let o=e[2],s=e[3];for(let i=0;i<24;i++){let a=io[i],c=no(o,s,a),f=oo(o,s,a),u=so[i];o=e[u],s=e[u+1],e[u]=c,e[u+1]=f}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=pi[n],e[1]^=hi[n]}Hr(r)}var ci,ct,fi,ui,di,li,so,io,ao,co,pi,hi,no,oo,Ur,xi,fo,uo=_(()=>{Jn();ro();ci=BigInt(0),ct=BigInt(1),fi=BigInt(2),ui=BigInt(7),di=BigInt(256),li=BigInt(113),so=[],io=[],ao=[];for(let e=0,t=ct,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],so.push(2*(5*n+r)),io.push((e+1)*(e+2)/2%64);let o=ci;for(let s=0;s<7;s++)t=(t<<ct^(t>>ui)*li)%di,t&fi&&(o^=ct<<(ct<<BigInt(s))-ct);ao.push(o)}co=Wn(ao,!0),pi=co[0],hi=co[1],no=(e,t,r)=>r>32?Yn(e,t,r):Kn(e,t,r),oo=(e,t,r)=>r>32?Xn(e,t,r):Zn(e,t,r);Ur=class e extends Tt{constructor(t,r,n,o=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=s,zr(n),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=eo(this.state)}clone(){return this._cloneInto()}keccak(){Rr(this.state32),mi(this.state32,this.rounds),Rr(this.state32),this.posOut=0,this.pos=0}update(t){$r(this),t=kr(t),at(t);let{blockLen:r,state:n}=this,o=t.length;for(let s=0;s<o;){let i=Math.min(r-this.pos,o-s);for(let a=0;a<i;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:o}=this;t[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){$r(this,!1),at(t),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,s=t.length;o<s;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,s-o);t.set(r.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return zr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Qn(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Hr(this.state)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new e(r,n,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}},xi=(e,t,r)=>to(()=>new Ur(t,e,r)),fo=xi(1,136,256/8)});function lo(e,t){let r=t||"hex",n=fo(Fe(e,{strict:!1})?qn(e):e);return r==="bytes"?n:it(n)}var po=_(()=>{uo();Et();Pr();Bt()});var Pt,ho=_(()=>{ot();Pt=class extends oe{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var Ge,Cr=_(()=>{Ge=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function zt(e,t){if(Or.has(`${e}.${t}`))return Or.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=lo(Tr(r),"bytes"),o=(t?r.substring(`${t}0x`.length):r).split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&o[i]&&(o[i]=o[i].toUpperCase()),(n[i>>1]&15)>=8&&o[i+1]&&(o[i+1]=o[i+1].toUpperCase());let s=`0x${o.join("")}`;return Or.set(`${e}.${t}`,s),s}function We(e,t){if(!mo(e,{strict:!1}))throw new Pt({address:e});return zt(e,t)}var Or,Lr=_(()=>{ho();Pr();po();Cr();xo();Or=new Ge(8192)});function mo(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(Nr.has(n))return Nr.get(n);let o=gi.test(e)?e.toLowerCase()===e?!0:r?zt(e)===e:!0:!1;return Nr.set(n,o),o}var gi,Nr,xo=_(()=>{Cr();Lr();gi=/^0x[a-fA-F0-9]{40}$/,Nr=new Ge(8192)});var yr=2;var br=(e,t)=>{let r=e.get(t);if(!r)for(let[n,o]of e.entries()){let s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\*/g,".*");if(new RegExp(`^${s}$`).test(t)){r=o;break}}return r},Un=(e,t,r)=>br(e,r)?.get(t);var Cn=class On{constructor(t){this.registeredClientSchemes=new Map,this.policies=[],this.beforePaymentCreationHooks=[],this.afterPaymentCreationHooks=[],this.onPaymentCreationFailureHooks=[],this.paymentRequirementsSelector=t||((r,n)=>n[0])}static fromConfig(t){let r=new On(t.paymentRequirementsSelector);return t.schemes.forEach(n=>{n.x402Version===1?r.registerV1(n.network,n.client):r.register(n.network,n.client)}),t.policies?.forEach(n=>{r.registerPolicy(n)}),r}register(t,r){return this._registerScheme(yr,t,r)}registerV1(t,r){return this._registerScheme(1,t,r)}registerPolicy(t){return this.policies.push(t),this}onBeforePaymentCreation(t){return this.beforePaymentCreationHooks.push(t),this}onAfterPaymentCreation(t){return this.afterPaymentCreationHooks.push(t),this}onPaymentCreationFailure(t){return this.onPaymentCreationFailureHooks.push(t),this}async createPaymentPayload(t){let r=this.registeredClientSchemes.get(t.x402Version);if(!r)throw new Error(`No client registered for x402 version: ${t.x402Version}`);let n=this.selectPaymentRequirements(t.x402Version,t.accepts),o={paymentRequired:t,selectedRequirements:n};for(let s of this.beforePaymentCreationHooks){let i=await s(o);if(i&&"abort"in i&&i.abort)throw new Error(`Payment creation aborted: ${i.reason}`)}try{let s=Un(r,n.scheme,n.network);if(!s)throw new Error(`No client registered for scheme: ${n.scheme} and network: ${n.network}`);let i=await s.createPaymentPayload(t.x402Version,n),a;i.x402Version==1?a=i:a={...i,extensions:t.extensions,resource:t.resource,accepted:n};let c={...o,paymentPayload:a};for(let f of this.afterPaymentCreationHooks)await f(c);return a}catch(s){let i={...o,error:s};for(let a of this.onPaymentCreationFailureHooks){let c=await a(i);if(c&&"recovered"in c&&c.recovered)return c.payload}throw s}}selectPaymentRequirements(t,r){let n=this.registeredClientSchemes.get(t);if(!n)throw new Error(`No client registered for x402 version: ${t}`);let o=r.filter(i=>{let a=br(n,i.network);return a?a.has(i.scheme):!1});if(o.length===0)throw new Error(`No network/scheme registered for x402 version: ${t} which comply with the payment requirements. ${JSON.stringify({x402Version:t,paymentRequirements:r,x402Versions:Array.from(this.registeredClientSchemes.keys()),networks:Array.from(n.keys()),schemes:Array.from(n.values()).map(i=>Array.from(i.keys())).flat()})}`);let s=o;for(let i of this.policies)if(s=i(t,s),s.length===0)throw new Error(`All payment requirements were filtered out by policies for x402 version: ${t}`);return this.paymentRequirementsSelector(t,s)}_registerScheme(t,r,n){this.registeredClientSchemes.has(t)||this.registeredClientSchemes.set(t,new Map);let o=this.registeredClientSchemes.get(t);o.has(r)||o.set(r,new Map);let s=o.get(r);return s.has(n.scheme)||s.set(n.scheme,n),this}};Lr();Bt();var $t={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]};function _r(){let e=(typeof globalThis.crypto<"u",globalThis.crypto);if(!e)throw new Error("Crypto API not available");return it(e.getRandomValues(new Uint8Array(32)))}var Mr=class{constructor(e){this.signer=e,this.scheme="exact"}async createPaymentPayload(e,t){let r=_r(),n=Math.floor(Date.now()/1e3),o={from:this.signer.address,to:We(t.payTo),value:t.amount,validAfter:(n-600).toString(),validBefore:(n+t.maxTimeoutSeconds).toString(),nonce:r},s=await this.signAuthorization(o,t);return{x402Version:e,payload:{authorization:o,signature:s}}}async signAuthorization(e,t){let r=parseInt(t.network.split(":")[1]);if(!t.extra?.name||!t.extra?.version)throw new Error(`EIP-712 domain parameters (name, version) are required in payment requirements for asset ${t.asset}`);let{name:n,version:o}=t.extra,s={name:n,version:o,chainId:r,verifyingContract:We(t.asset)},i={from:We(e.from),to:We(e.to),value:BigInt(e.value),validAfter:BigInt(e.validAfter),validBefore:BigInt(e.validBefore),nonce:e.nonce};return await this.signer.signTypedData({domain:s,types:$t,primaryType:"TransferWithAuthorization",message:i})}};var Re=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function bi(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ke(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ae(e,...t){if(!bi(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function go(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ke(e.outputLen),ke(e.blockLen)}function le(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ht(e,t){ae(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function yo(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ce(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Rt(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function se(e,t){return e<<32-t|e>>>t}var wi=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ei(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function vi(e){for(let t=0;t<e.length;t++)e[t]=Ei(e[t]);return e}var Dr=wi?e=>e:vi;function Ii(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Ue(e){return typeof e=="string"&&(e=Ii(e)),ae(e),e}function bo(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];ae(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let s=e[n];r.set(s,o),o+=s.length}return r}var Ie=class{};function kt(e){let t=n=>e().update(Ue(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function wo(e=32){if(Re&&typeof Re.getRandomValues=="function")return Re.getRandomValues(new Uint8Array(e));if(Re&&typeof Re.randomBytes=="function")return Uint8Array.from(Re.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}var Fr=BigInt(0),qr=BigInt(1);function Ke(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gr(e){if(!Ke(e))throw new Error("Uint8Array expected")}function Ze(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function ft(e){let t=e.toString(16);return t.length&1?"0"+t:t}function Io(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Fr:BigInt("0x"+e)}var Ao=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ai=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ye(e){if(Gr(e),Ao)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Ai[e[r]];return t}var pe={_0:48,_9:57,A:65,F:70,a:97,f:102};function Eo(e){if(e>=pe._0&&e<=pe._9)return e-pe._0;if(e>=pe.A&&e<=pe.F)return e-(pe.A-10);if(e>=pe.a&&e<=pe.f)return e-(pe.a-10)}function ut(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ao)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let o=0,s=0;o<r;o++,s+=2){let i=Eo(e.charCodeAt(s)),a=Eo(e.charCodeAt(s+1));if(i===void 0||a===void 0){let c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[o]=i*16+a}return n}function he(e){return Io(Ye(e))}function Wr(e){return Gr(e),Io(Ye(Uint8Array.from(e).reverse()))}function Ce(e,t){return ut(e.toString(16).padStart(t*2,"0"))}function Kr(e,t){return Ce(e,t).reverse()}function X(e,t,r){let n;if(typeof t=="string")try{n=ut(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Ke(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function dt(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];Gr(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let s=e[n];r.set(s,o),o+=s.length}return r}var Vr=e=>typeof e=="bigint"&&Fr<=e;function Ut(e,t,r){return Vr(e)&&Vr(t)&&Vr(r)&&t<=e&&e<r}function Oe(e,t,r,n){if(!Ut(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Bo(e){let t;for(t=0;e>Fr;e>>=qr,t+=1);return t}var Le=e=>(qr<<BigInt(e))-qr,jr=e=>new Uint8Array(e),vo=e=>Uint8Array.from(e);function So(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=jr(e),o=jr(e),s=0,i=()=>{n.fill(1),o.fill(0),s=0},a=(...l)=>r(o,n,...l),c=(l=jr(0))=>{o=a(vo([0]),l),n=a(),l.length!==0&&(o=a(vo([1]),l),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,x=[];for(;l<t;){n=a();let y=n.slice();x.push(y),l+=n.length}return dt(...x)};return(l,x)=>{i(),c(l);let y;for(;!(y=x(f()));)c();return i(),y}}var Bi={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ke(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ne(e,t,r={}){let n=(o,s,i)=>{let a=Bi[s];if(typeof a!="function")throw new Error("invalid validator function");let c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+s+", got "+c)};for(let[o,s]of Object.entries(t))n(o,s,!1);for(let[o,s]of Object.entries(r))n(o,s,!0);return e}function Zr(e){let t=new WeakMap;return(r,...n)=>{let o=t.get(r);if(o!==void 0)return o;let s=e(r,...n);return t.set(r,s),s}}var Z=BigInt(0),F=BigInt(1),_e=BigInt(2),Si=BigInt(3),Po=BigInt(4),zo=BigInt(5),$o=BigInt(8);function q(e,t){let r=e%t;return r>=Z?r:t+r}function ee(e,t,r){let n=e;for(;t-- >Z;)n*=n,n%=r;return n}function Ct(e,t){if(e===Z)throw new Error("invert: expected non-zero number");if(t<=Z)throw new Error("invert: expected positive modulus, got "+t);let r=q(e,t),n=t,o=Z,s=F,i=F,a=Z;for(;r!==Z;){let f=n/r,u=n%r,l=o-i*f,x=s-a*f;n=r,r=u,o=i,s=a,i=l,a=x}if(n!==F)throw new Error("invert: does not exist");return q(o,t)}function Ho(e,t){let r=(e.ORDER+F)/Po,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function Ti(e,t){let r=(e.ORDER-zo)/$o,n=e.mul(t,_e),o=e.pow(n,r),s=e.mul(t,o),i=e.mul(e.mul(s,_e),o),a=e.mul(s,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Pi(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-F,r=0;for(;t%_e===Z;)t/=_e,r++;let n=_e,o=lt(e);for(;To(o,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Ho;let s=o.pow(n,t),i=(t+F)/_e;return function(c,f){if(c.is0(f))return f;if(To(c,f)!==1)throw new Error("Cannot find square root");let u=r,l=c.mul(c.ONE,s),x=c.pow(f,t),y=c.pow(f,i);for(;!c.eql(x,c.ONE);){if(c.is0(x))return c.ZERO;let R=1,g=c.sqr(x);for(;!c.eql(g,c.ONE);)if(R++,g=c.sqr(g),R===u)throw new Error("Cannot find square root");let N=F<<BigInt(u-R-1),C=c.pow(l,N);u=R,l=c.sqr(C),x=c.mul(x,l),y=c.mul(y,C)}return y}}function zi(e){return e%Po===Si?Ho:e%$o===zo?Ti:Pi(e)}var $i=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yr(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=$i.reduce((n,o)=>(n[o]="function",n),t);return Ne(e,r)}function Hi(e,t,r){if(r<Z)throw new Error("invalid exponent, negatives unsupported");if(r===Z)return e.ONE;if(r===F)return t;let n=e.ONE,o=t;for(;r>Z;)r&F&&(n=e.mul(n,o)),o=e.sqr(o),r>>=F;return n}function Xr(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),o=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),s=e.inv(o);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),s),n}function To(e,t){let r=(e.ORDER-F)/_e,n=e.pow(t,r),o=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),i=e.eql(n,e.neg(e.ONE));if(!o&&!s&&!i)throw new Error("invalid Legendre symbol result");return o?1:s?0:-1}function Jr(e,t){t!==void 0&&ke(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function lt(e,t,r=!1,n={}){if(e<=Z)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Jr(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:Le(o),ZERO:Z,ONE:F,create:c=>q(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Z<=c&&c<e},is0:c=>c===Z,isOdd:c=>(c&F)===F,neg:c=>q(-c,e),eql:(c,f)=>c===f,sqr:c=>q(c*c,e),add:(c,f)=>q(c+f,e),sub:(c,f)=>q(c-f,e),mul:(c,f)=>q(c*f,e),pow:(c,f)=>Hi(a,c,f),div:(c,f)=>q(c*Ct(f,e),e),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>Ct(c,e),sqrt:n.sqrt||(c=>(i||(i=zi(e)),i(a,c))),toBytes:c=>r?Kr(c,s):Ce(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Wr(c):he(c)},invertBatch:c=>Xr(a,c),cmov:(c,f,u)=>u?f:c});return Object.freeze(a)}function Ro(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Qr(e){let t=Ro(e);return t+Math.ceil(t/2)}function ko(e,t,r=!1){let n=e.length,o=Ro(t),s=Qr(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);let i=r?Wr(e):he(e),a=q(i,t-F)+F;return r?Kr(a,o):Ce(a,o)}function Ri(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(r>>o&s),a=Number(r&s),c=n?4:0,f=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+f,a,n)}function Uo(e,t,r){return e&t^~e&r}function Co(e,t,r){return e&t^e&r^t&r}var Ot=class extends Ie{constructor(t,r,n,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Rt(this.buffer)}update(t){le(this),t=Ue(t),ae(t);let{view:r,buffer:n,blockLen:o}=this,s=t.length;for(let i=0;i<s;){let a=Math.min(o-this.pos,s-i);if(a===o){let c=Rt(t);for(;o<=s-i;i+=o)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){le(this),Ht(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;r[i++]=128,ce(this.buffer.subarray(i)),this.padOffset>o-i&&(this.process(n,0),i=0);for(let l=i;l<o;l++)r[l]=0;Ri(n,o-8,BigInt(this.length*8),s),this.process(n,0);let a=Rt(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,u=this.get();if(f>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)a.setUint32(4*l,u[l],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:s,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=s,t.length=o,t.pos=a,o%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}},me=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var Lt=BigInt(4294967295),Oo=BigInt(32);function ki(e,t=!1){return t?{h:Number(e&Lt),l:Number(e>>Oo&Lt)}:{h:Number(e>>Oo&Lt)|0,l:Number(e&Lt)|0}}function Lo(e,t=!1){let r=e.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let s=0;s<r;s++){let{h:i,l:a}=ki(e[s],t);[n[s],o[s]]=[i,a]}return[n,o]}var No=(e,t,r)=>e<<r|t>>>32-r,_o=(e,t,r)=>t<<r|e>>>32-r,Mo=(e,t,r)=>t<<r-32|e>>>64-r,Do=(e,t,r)=>e<<r-32|t>>>64-r;var Ui=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ae=new Uint32Array(64),Nt=class extends Ot{constructor(t=32){super(64,t,8,!1),this.A=me[0]|0,this.B=me[1]|0,this.C=me[2]|0,this.D=me[3]|0,this.E=me[4]|0,this.F=me[5]|0,this.G=me[6]|0,this.H=me[7]|0}get(){let{A:t,B:r,C:n,D:o,E:s,F:i,G:a,H:c}=this;return[t,r,n,o,s,i,a,c]}set(t,r,n,o,s,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let l=0;l<16;l++,r+=4)Ae[l]=t.getUint32(r,!1);for(let l=16;l<64;l++){let x=Ae[l-15],y=Ae[l-2],R=se(x,7)^se(x,18)^x>>>3,g=se(y,17)^se(y,19)^y>>>10;Ae[l]=g+Ae[l-7]+R+Ae[l-16]|0}let{A:n,B:o,C:s,D:i,E:a,F:c,G:f,H:u}=this;for(let l=0;l<64;l++){let x=se(a,6)^se(a,11)^se(a,25),y=u+x+Uo(a,c,f)+Ui[l]+Ae[l]|0,g=(se(n,2)^se(n,13)^se(n,22))+Co(n,o,s)|0;u=f,f=c,c=a,a=i+y|0,i=s,s=o,o=n,n=y+g|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,u=u+this.H|0,this.set(n,o,s,i,a,c,f,u)}roundClean(){ce(Ae)}destroy(){this.set(0,0,0,0,0,0,0,0),ce(this.buffer)}};var _t=kt(()=>new Nt);var Mt=class extends Ie{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,go(t);let n=Ue(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),ce(s)}update(t){return le(this),this.iHash.update(t),this}digestInto(t){le(this),ae(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},en=(e,t,r)=>new Mt(e,t).update(r).digest();en.create=(e,t)=>new Mt(e,t);var Vo=BigInt(0),sn=BigInt(1);function tn(e,t){let r=t.negate();return e?r:t}function qo(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function rn(e,t){qo(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),o=2**e,s=Le(e),i=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:o,shiftBy:i}}function jo(e,t,r){let{windowSize:n,mask:o,maxNumber:s,shiftBy:i}=r,a=Number(e&o),c=e>>i;a>n&&(a-=s,c+=sn);let f=t*n,u=f+Math.abs(a)-1,l=a===0,x=a<0,y=t%2!==0;return{nextN:c,offset:u,isZero:l,isNeg:x,isNegF:y,offsetF:f}}function Ci(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function Oi(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}var nn=new WeakMap,Fo=new WeakMap;function on(e){return Fo.get(e)||1}function Go(e,t){return{constTimeNegate:tn,hasPrecomputes(r){return on(r)!==1},unsafeLadder(r,n,o=e.ZERO){let s=r;for(;n>Vo;)n&sn&&(o=o.add(s)),s=s.double(),n>>=sn;return o},precomputeWindow(r,n){let{windows:o,windowSize:s}=rn(n,t),i=[],a=r,c=a;for(let f=0;f<o;f++){c=a,i.push(c);for(let u=1;u<s;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(r,n,o){let s=e.ZERO,i=e.BASE,a=rn(r,t);for(let c=0;c<a.windows;c++){let{nextN:f,offset:u,isZero:l,isNeg:x,isNegF:y,offsetF:R}=jo(o,c,a);o=f,l?i=i.add(tn(y,n[R])):s=s.add(tn(x,n[u]))}return{p:s,f:i}},wNAFUnsafe(r,n,o,s=e.ZERO){let i=rn(r,t);for(let a=0;a<i.windows&&o!==Vo;a++){let{nextN:c,offset:f,isZero:u,isNeg:l}=jo(o,a,i);if(o=c,!u){let x=n[f];s=s.add(l?x.negate():x)}}return s},getPrecomputes(r,n,o){let s=nn.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&nn.set(n,o(s))),s},wNAFCached(r,n,o){let s=on(r);return this.wNAF(s,this.getPrecomputes(s,r,o),n)},wNAFCachedUnsafe(r,n,o,s){let i=on(r);return i===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,r,o),n,s)},setWindowSize(r,n){qo(n,t),Fo.set(r,n),nn.delete(r)}}}function Wo(e,t,r,n){Ci(r,e),Oi(n,t);let o=r.length,s=n.length;if(o!==s)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=Bo(BigInt(o)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let f=Le(c),u=new Array(Number(f)+1).fill(i),l=Math.floor((t.BITS-1)/c)*c,x=i;for(let y=l;y>=0;y-=c){u.fill(i);for(let g=0;g<s;g++){let N=n[g],C=Number(N>>BigInt(y)&f);u[C]=u[C].add(r[g])}let R=i;for(let g=u.length-1,N=i;g>0;g--)N=N.add(u[g]),R=R.add(N);if(x=x.add(R),y!==0)for(let g=0;g<c;g++)x=x.double()}return x}function an(e){return Yr(e.Fp),Ne(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Jr(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Ko(e){e.lowS!==void 0&&Ze("lowS",e.lowS),e.prehash!==void 0&&Ze("prehash",e.prehash)}function Li(e){let t=an(e);Ne(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}var un=class extends Error{constructor(t=""){super(t)}},xe={Err:un,_tlv:{encode:(e,t)=>{let{Err:r}=xe;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,o=ft(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?ft(o.length/2|128):"";return ft(e)+s+o+t},decode(e,t){let{Err:r}=xe,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let o=t[n++],s=!!(o&128),i=0;if(!s)i=o;else{let c=o&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let f=t.subarray(n,n+c);if(f.length!==c)throw new r("tlv.decode: length bytes not complete");if(f[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of f)i=i<<8|u;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=xe;if(e<ge)throw new t("integer: negative integers are not allowed");let r=ft(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=xe;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return he(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=xe,o=X("signature",e),{v:s,l:i}=n.decode(48,o);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,s),{v:f,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(f)}},hexFromSig(e){let{_tlv:t,_int:r}=xe,n=t.encode(2,r.encode(e.r)),o=t.encode(2,r.encode(e.s)),s=n+o;return t.encode(48,s)}};function cn(e,t){return Ye(Ce(e,t))}var ge=BigInt(0),M=BigInt(1),Kf=BigInt(2),fn=BigInt(3),Ni=BigInt(4);function _i(e){let t=Li(e),{Fp:r}=t,n=lt(t.n,t.nBitLength),o=t.toBytes||((I,d,m)=>{let w=d.toAffine();return dt(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),s=t.fromBytes||(I=>{let d=I.subarray(1),m=r.fromBytes(d.subarray(0,r.BYTES)),w=r.fromBytes(d.subarray(r.BYTES,2*r.BYTES));return{x:m,y:w}});function i(I){let{a:d,b:m}=t,w=r.sqr(I),T=r.mul(w,I);return r.add(r.add(T,r.mul(I,d)),m)}function a(I,d){let m=r.sqr(d),w=i(I);return r.eql(m,w)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(t.a,fn),Ni),f=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,f)))throw new Error("bad curve params: a or b");function u(I){return Ut(I,M,t.n)}function l(I){let{allowedPrivateKeyLengths:d,nByteLength:m,wrapPrivateKey:w,n:T}=t;if(d&&typeof I!="bigint"){if(Ke(I)&&(I=Ye(I)),typeof I!="string"||!d.includes(I.length))throw new Error("invalid private key");I=I.padStart(m*2,"0")}let H;try{H=typeof I=="bigint"?I:he(X("private key",I,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof I)}return w&&(H=q(H,T)),Oe("private key",H,M,T),H}function x(I){if(!(I instanceof g))throw new Error("ProjectivePoint expected")}let y=Zr((I,d)=>{let{px:m,py:w,pz:T}=I;if(r.eql(T,r.ONE))return{x:m,y:w};let H=I.is0();d==null&&(d=H?r.ONE:r.inv(T));let U=r.mul(m,d),k=r.mul(w,d),A=r.mul(T,d);if(H)return{x:r.ZERO,y:r.ZERO};if(!r.eql(A,r.ONE))throw new Error("invZ was invalid");return{x:U,y:k}}),R=Zr(I=>{if(I.is0()){if(t.allowInfinityPoint&&!r.is0(I.py))return;throw new Error("bad point: ZERO")}let{x:d,y:m}=I.toAffine();if(!r.isValid(d)||!r.isValid(m))throw new Error("bad point: x or y not FE");if(!a(d,m))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(d,m,w){if(d==null||!r.isValid(d))throw new Error("x required");if(m==null||!r.isValid(m)||r.is0(m))throw new Error("y required");if(w==null||!r.isValid(w))throw new Error("z required");this.px=d,this.py=m,this.pz=w,Object.freeze(this)}static fromAffine(d){let{x:m,y:w}=d||{};if(!d||!r.isValid(m)||!r.isValid(w))throw new Error("invalid affine point");if(d instanceof g)throw new Error("projective point not allowed");let T=H=>r.eql(H,r.ZERO);return T(m)&&T(w)?g.ZERO:new g(m,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){let m=Xr(r,d.map(w=>w.pz));return d.map((w,T)=>w.toAffine(m[T])).map(g.fromAffine)}static fromHex(d){let m=g.fromAffine(s(X("pointHex",d)));return m.assertValidity(),m}static fromPrivateKey(d){return g.BASE.multiply(l(d))}static msm(d,m){return Wo(g,n,d,m)}_setWindowSize(d){Q.setWindowSize(this,d)}assertValidity(){R(this)}hasEvenY(){let{y:d}=this.toAffine();if(r.isOdd)return!r.isOdd(d);throw new Error("Field doesn't support isOdd")}equals(d){x(d);let{px:m,py:w,pz:T}=this,{px:H,py:U,pz:k}=d,A=r.eql(r.mul(m,k),r.mul(H,T)),$=r.eql(r.mul(w,k),r.mul(U,T));return A&&$}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){let{a:d,b:m}=t,w=r.mul(m,fn),{px:T,py:H,pz:U}=this,k=r.ZERO,A=r.ZERO,$=r.ZERO,B=r.mul(T,T),j=r.mul(H,H),h=r.mul(U,U),p=r.mul(T,H);return p=r.add(p,p),$=r.mul(T,U),$=r.add($,$),k=r.mul(d,$),A=r.mul(w,h),A=r.add(k,A),k=r.sub(j,A),A=r.add(j,A),A=r.mul(k,A),k=r.mul(p,k),$=r.mul(w,$),h=r.mul(d,h),p=r.sub(B,h),p=r.mul(d,p),p=r.add(p,$),$=r.add(B,B),B=r.add($,B),B=r.add(B,h),B=r.mul(B,p),A=r.add(A,B),h=r.mul(H,U),h=r.add(h,h),B=r.mul(h,p),k=r.sub(k,B),$=r.mul(h,j),$=r.add($,$),$=r.add($,$),new g(k,A,$)}add(d){x(d);let{px:m,py:w,pz:T}=this,{px:H,py:U,pz:k}=d,A=r.ZERO,$=r.ZERO,B=r.ZERO,j=t.a,h=r.mul(t.b,fn),p=r.mul(m,H),E=r.mul(w,U),z=r.mul(T,k),S=r.add(m,w),P=r.add(H,U);S=r.mul(S,P),P=r.add(p,E),S=r.sub(S,P),P=r.add(m,T);let O=r.add(H,k);return P=r.mul(P,O),O=r.add(p,z),P=r.sub(P,O),O=r.add(w,T),A=r.add(U,k),O=r.mul(O,A),A=r.add(E,z),O=r.sub(O,A),B=r.mul(j,P),A=r.mul(h,z),B=r.add(A,B),A=r.sub(E,B),B=r.add(E,B),$=r.mul(A,B),E=r.add(p,p),E=r.add(E,p),z=r.mul(j,z),P=r.mul(h,P),E=r.add(E,z),z=r.sub(p,z),z=r.mul(j,z),P=r.add(P,z),p=r.mul(E,P),$=r.add($,p),p=r.mul(O,P),A=r.mul(S,A),A=r.sub(A,p),p=r.mul(S,E),B=r.mul(O,B),B=r.add(B,p),new g(A,$,B)}subtract(d){return this.add(d.negate())}is0(){return this.equals(g.ZERO)}wNAF(d){return Q.wNAFCached(this,d,g.normalizeZ)}multiplyUnsafe(d){let{endo:m,n:w}=t;Oe("scalar",d,ge,w);let T=g.ZERO;if(d===ge)return T;if(this.is0()||d===M)return this;if(!m||Q.hasPrecomputes(this))return Q.wNAFCachedUnsafe(this,d,g.normalizeZ);let{k1neg:H,k1:U,k2neg:k,k2:A}=m.splitScalar(d),$=T,B=T,j=this;for(;U>ge||A>ge;)U&M&&($=$.add(j)),A&M&&(B=B.add(j)),j=j.double(),U>>=M,A>>=M;return H&&($=$.negate()),k&&(B=B.negate()),B=new g(r.mul(B.px,m.beta),B.py,B.pz),$.add(B)}multiply(d){let{endo:m,n:w}=t;Oe("scalar",d,M,w);let T,H;if(m){let{k1neg:U,k1:k,k2neg:A,k2:$}=m.splitScalar(d),{p:B,f:j}=this.wNAF(k),{p:h,f:p}=this.wNAF($);B=Q.constTimeNegate(U,B),h=Q.constTimeNegate(A,h),h=new g(r.mul(h.px,m.beta),h.py,h.pz),T=B.add(h),H=j.add(p)}else{let{p:U,f:k}=this.wNAF(d);T=U,H=k}return g.normalizeZ([T,H])[0]}multiplyAndAddUnsafe(d,m,w){let T=g.BASE,H=(k,A)=>A===ge||A===M||!k.equals(T)?k.multiplyUnsafe(A):k.multiply(A),U=H(this,m).add(H(d,w));return U.is0()?void 0:U}toAffine(d){return y(this,d)}isTorsionFree(){let{h:d,isTorsionFree:m}=t;if(d===M)return!0;if(m)return m(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:d,clearCofactor:m}=t;return d===M?this:m?m(g,this):this.multiplyUnsafe(t.h)}toRawBytes(d=!0){return Ze("isCompressed",d),this.assertValidity(),o(g,this,d)}toHex(d=!0){return Ze("isCompressed",d),Ye(this.toRawBytes(d))}}g.BASE=new g(t.Gx,t.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);let{endo:N,nBitLength:C}=t,Q=Go(g,N?Math.ceil(C/2):C);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:u}}function Mi(e){let t=an(e);return Ne(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Zo(e){let t=Mi(e),{Fp:r,n,nByteLength:o,nBitLength:s}=t,i=r.BYTES+1,a=2*r.BYTES+1;function c(h){return q(h,n)}function f(h){return Ct(h,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:x,isWithinCurveOrder:y}=_i({...t,toBytes(h,p,E){let z=p.toAffine(),S=r.toBytes(z.x),P=dt;return Ze("isCompressed",E),E?P(Uint8Array.from([p.hasEvenY()?2:3]),S):P(Uint8Array.from([4]),S,r.toBytes(z.y))},fromBytes(h){let p=h.length,E=h[0],z=h.subarray(1);if(p===i&&(E===2||E===3)){let S=he(z);if(!Ut(S,M,r.ORDER))throw new Error("Point is not on curve");let P=x(S),O;try{O=r.sqrt(P)}catch(ne){let Y=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+Y)}let K=(O&M)===M;return(E&1)===1!==K&&(O=r.neg(O)),{x:S,y:O}}else if(p===a&&E===4){let S=r.fromBytes(z.subarray(0,r.BYTES)),P=r.fromBytes(z.subarray(r.BYTES,2*r.BYTES));return{x:S,y:P}}else{let S=i,P=a;throw new Error("invalid Point, expected length of "+S+", or uncompressed "+P+", got "+p)}}});function R(h){let p=n>>M;return h>p}function g(h){return R(h)?c(-h):h}let N=(h,p,E)=>he(h.slice(p,E));class C{constructor(p,E,z){Oe("r",p,M,n),Oe("s",E,M,n),this.r=p,this.s=E,z!=null&&(this.recovery=z),Object.freeze(this)}static fromCompact(p){let E=o;return p=X("compactSignature",p,E*2),new C(N(p,0,E),N(p,E,2*E))}static fromDER(p){let{r:E,s:z}=xe.toSig(X("DER",p));return new C(E,z)}assertValidity(){}addRecoveryBit(p){return new C(this.r,this.s,p)}recoverPublicKey(p){let{r:E,s:z,recovery:S}=this,P=T(X("msgHash",p));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");let O=S===2||S===3?E+t.n:E;if(O>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(S&1)===0?"02":"03",ue=u.fromHex(K+cn(O,r.BYTES)),ne=f(O),Y=c(-P*ne),Ve=c(z*ne),Ee=u.BASE.multiplyAndAddUnsafe(ue,Y,Ve);if(!Ee)throw new Error("point at infinify");return Ee.assertValidity(),Ee}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ut(this.toDERHex())}toDERHex(){return xe.hexFromSig(this)}toCompactRawBytes(){return ut(this.toCompactHex())}toCompactHex(){let p=o;return cn(this.r,p)+cn(this.s,p)}}let Q={isValidPrivateKey(h){try{return l(h),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let h=Qr(t.n);return ko(t.randomBytes(h),t.n)},precompute(h=8,p=u.BASE){return p._setWindowSize(h),p.multiply(BigInt(3)),p}};function I(h,p=!0){return u.fromPrivateKey(h).toRawBytes(p)}function d(h){if(typeof h=="bigint")return!1;if(h instanceof u)return!0;let E=X("key",h).length,z=r.BYTES,S=z+1,P=2*z+1;if(!(t.allowedPrivateKeyLengths||o===S))return E===S||E===P}function m(h,p,E=!0){if(d(h)===!0)throw new Error("first arg must be private key");if(d(p)===!1)throw new Error("second arg must be public key");return u.fromHex(p).multiply(l(h)).toRawBytes(E)}let w=t.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");let p=he(h),E=h.length*8-s;return E>0?p>>BigInt(E):p},T=t.bits2int_modN||function(h){return c(w(h))},H=Le(s);function U(h){return Oe("num < 2^"+s,h,ge,H),Ce(h,o)}function k(h,p,E=A){if(["recovered","canonical"].some(ze=>ze in E))throw new Error("sign() legacy options not supported");let{hash:z,randomBytes:S}=t,{lowS:P,prehash:O,extraEntropy:K}=E;P==null&&(P=!0),h=X("msgHash",h),Ko(E),O&&(h=X("prehashed msgHash",z(h)));let ue=T(h),ne=l(p),Y=[U(ne),U(ue)];if(K!=null&&K!==!1){let ze=K===!0?S(r.BYTES):K;Y.push(X("extraEntropy",ze))}let Ve=dt(...Y),Ee=ue;function xr(ze){let je=w(ze);if(!y(je))return;let gr=f(je),rt=u.BASE.multiply(je).toAffine(),$e=c(rt.x);if($e===ge)return;let nt=c(gr*c(Ee+$e*ne));if(nt===ge)return;let qe=(rt.x===$e?0:2)|Number(rt.y&M),kn=nt;return P&&R(nt)&&(kn=g(nt),qe^=1),new C($e,kn,qe)}return{seed:Ve,k2sig:xr}}let A={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function B(h,p,E=A){let{seed:z,k2sig:S}=k(h,p,E),P=t;return So(P.hash.outputLen,P.nByteLength,P.hmac)(z,S)}u.BASE._setWindowSize(8);function j(h,p,E,z=$){let S=h;p=X("msgHash",p),E=X("publicKey",E);let{lowS:P,prehash:O,format:K}=z;if(Ko(z),"strict"in z)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");let ue=typeof S=="string"||Ke(S),ne=!ue&&!K&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!ue&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,Ve;try{if(ne&&(Y=new C(S.r,S.s)),ue){try{K!=="compact"&&(Y=C.fromDER(S))}catch(qe){if(!(qe instanceof xe.Err))throw qe}!Y&&K!=="der"&&(Y=C.fromCompact(S))}Ve=u.fromHex(E)}catch{return!1}if(!Y||P&&Y.hasHighS())return!1;O&&(p=t.hash(p));let{r:Ee,s:xr}=Y,ze=T(p),je=f(xr),gr=c(ze*je),rt=c(Ee*je),$e=u.BASE.multiplyAndAddUnsafe(Ve,gr,rt)?.toAffine();return $e?c($e.x)===Ee:!1}return{CURVE:t,getPublicKey:I,getSharedSecret:m,sign:B,verify:j,ProjectivePoint:u,Signature:C,utils:Q}}function Di(e){return{hash:e,hmac:(t,...r)=>en(e,t,bo(...r)),randomBytes:wo}}function Yo(e,t){let r=n=>Zo({...e,...Di(n)});return{...r(t),create:r}}var Qo=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Vi=BigInt(0),ji=BigInt(1),dn=BigInt(2),Jo=(e,t)=>(e+t/dn)/t;function qi(e){let t=Qo,r=BigInt(3),n=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),f=e*e*e%t,u=f*f*e%t,l=ee(u,r,t)*u%t,x=ee(l,r,t)*u%t,y=ee(x,dn,t)*f%t,R=ee(y,o,t)*y%t,g=ee(R,s,t)*R%t,N=ee(g,a,t)*g%t,C=ee(N,c,t)*N%t,Q=ee(C,a,t)*g%t,I=ee(Q,r,t)*u%t,d=ee(I,i,t)*R%t,m=ee(d,n,t)*f%t,w=ee(m,dn,t);if(!ln.eql(ln.sqr(w),e))throw new Error("Cannot find square root");return w}var ln=lt(Qo,void 0,void 0,{sqrt:qi}),Xe=Yo({a:Vi,b:BigInt(7),Fp:ln,n:Xo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=Xo,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ji*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,i=BigInt("0x100000000000000000000000000000000"),a=Jo(s*e,t),c=Jo(-n*e,t),f=q(e-a*r-c*o,t),u=q(-a*n-c*s,t),l=f>i,x=u>i;if(l&&(f=t-f),x&&(u=t-u),f>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:f,k2neg:x,k2:u}}}},_t);var pn="2.44.4";var hn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${pn}`};var b=class e extends Error{constructor(t,r={}){let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,o=r.cause instanceof e&&r.cause.docsPath||r.docsPath,s=hn.getDocsUrl?.({...r,docsPath:o}),i=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...hn.version?[`Version: ${hn.version}`]:[]].join(`
`);super(i,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=pn}walk(t){return es(this,t)}};function es(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?es(e.cause,t):t?null:e}var Be=class extends b{constructor({max:t,min:r,signed:n,size:o,value:s}){super(`Number "${s}" is not in safe ${o?`${o*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}};var Dt=class extends b{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function te(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function L(e){return te(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function pt(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,n=0;for(let o=0;o<r.length-1&&r[t==="left"?o:r.length-o-1].toString()==="0";o++)n++;return r=t==="left"?r.slice(n):r.slice(0,r.length-n),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}var ht=class extends b{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},mt=class extends b{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function Se(e,{dir:t,size:r=32}={}){return typeof e=="string"?ye(e,{dir:t,size:r}):Fi(e,{dir:t,size:r})}function ye(e,{dir:t,size:r=32}={}){if(r===null)return e;let n=e.replace("0x","");if(n.length>r*2)throw new mt({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function Fi(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new mt({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let o=0;o<r;o++){let s=t==="right";n[s?o:r-o-1]=e[s?o:e.length-o-1]}return n}var Gi=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function re(e,t={}){return typeof e=="number"||typeof e=="bigint"?v(e,t):typeof e=="string"?Je(e,t):typeof e=="boolean"?mn(e,t):G(e,t)}function mn(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(Te(r,{size:t.size}),Se(r,{size:t.size})):r}function G(e,t={}){let r="";for(let o=0;o<e.length;o++)r+=Gi[e[o]];let n=`0x${r}`;return typeof t.size=="number"?(Te(n,{size:t.size}),Se(n,{dir:"right",size:t.size})):n}function v(e,t={}){let{signed:r,size:n}=t,o=BigInt(e),s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof s=="bigint"&&r?-s-1n:0;if(s&&o>s||o<i){let c=typeof e=="bigint"?"n":"";throw new Be({max:s?`${s}${c}`:void 0,min:`${i}${c}`,signed:r,size:n,value:`${e}${c}`})}let a=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?Se(a,{size:n}):a}var Wi=new TextEncoder;function Je(e,t={}){let r=Wi.encode(e);return G(r,t)}var Ki=new TextEncoder;function Vt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Yi(e,t):typeof e=="boolean"?Zi(e,t):te(e)?V(e,t):xn(e,t)}function Zi(e,t={}){let r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Te(r,{size:t.size}),Se(r,{size:t.size})):r}var be={zero:48,nine:57,A:65,F:70,a:97,f:102};function ts(e){if(e>=be.zero&&e<=be.nine)return e-be.zero;if(e>=be.A&&e<=be.F)return e-(be.A-10);if(e>=be.a&&e<=be.f)return e-(be.a-10)}function V(e,t={}){let r=e;t.size&&(Te(r,{size:t.size}),r=Se(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let o=n.length/2,s=new Uint8Array(o);for(let i=0,a=0;i<o;i++){let c=ts(n.charCodeAt(a++)),f=ts(n.charCodeAt(a++));if(c===void 0||f===void 0)throw new b(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[i]=c*16+f}return s}function Yi(e,t){let r=v(e,t);return V(r)}function xn(e,t={}){let r=Ki.encode(e);return typeof t.size=="number"?(Te(r,{size:t.size}),Se(r,{dir:"right",size:t.size})):r}function Te(e,{size:t}){if(L(e)>t)throw new Dt({givenSize:L(e),maxSize:t})}function jt(e,t={}){let{signed:r}=t;t.size&&Te(e,{size:t.size});let n=BigInt(e);if(!r)return n;let o=(e.length-2)/2,s=(1n<<BigInt(o)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function rs(e,t={}){let r=jt(e,t),n=Number(r);if(!Number.isSafeInteger(n))throw new Be({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${r}n`});return n}var Qe=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}};function ns({r:e,s:t,to:r="hex",v:n,yParity:o}){let s=(()=>{if(o===0||o===1)return o;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Xe.Signature(jt(e),jt(t)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?i:V(i)}var W=class extends b{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};var Xi=BigInt(0),xt=BigInt(1),Ji=BigInt(2),Qi=BigInt(7),ea=BigInt(256),ta=BigInt(113),is=[],as=[],cs=[];for(let e=0,t=xt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],is.push(2*(5*n+r)),as.push((e+1)*(e+2)/2%64);let o=Xi;for(let s=0;s<7;s++)t=(t<<xt^(t>>Qi)*ta)%ea,t&Ji&&(o^=xt<<(xt<<BigInt(s))-xt);cs.push(o)}var fs=Lo(cs,!0),ra=fs[0],na=fs[1],os=(e,t,r)=>r>32?Mo(e,t,r):No(e,t,r),ss=(e,t,r)=>r>32?Do(e,t,r):_o(e,t,r);function oa(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,f=r[c],u=r[c+1],l=os(f,u,1)^r[a],x=ss(f,u,1)^r[a+1];for(let y=0;y<50;y+=10)e[i+y]^=l,e[i+y+1]^=x}let o=e[2],s=e[3];for(let i=0;i<24;i++){let a=as[i],c=os(o,s,a),f=ss(o,s,a),u=is[i];o=e[u],s=e[u+1],e[u]=c,e[u+1]=f}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=ra[n],e[1]^=na[n]}ce(r)}var gn=class e extends Ie{constructor(t,r,n,o=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=s,ke(n),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=yo(this.state)}clone(){return this._cloneInto()}keccak(){Dr(this.state32),oa(this.state32,this.rounds),Dr(this.state32),this.posOut=0,this.pos=0}update(t){le(this),t=Ue(t),ae(t);let{blockLen:r,state:n}=this,o=t.length;for(let s=0;s<o;){let i=Math.min(r-this.pos,o-s);for(let a=0;a<i;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:o}=this;t[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){le(this,!1),ae(t),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,s=t.length;o<s;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,s-o);t.set(r.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ke(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ht(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ce(this.state)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new e(r,n,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}},sa=(e,t,r)=>kt(()=>new gn(t,e,r));var us=sa(1,136,256/8);function D(e,t){let r=t||"hex",n=us(te(e,{strict:!1})?Vt(e):e);return r==="bytes"?n:re(n)}var yn=new Qe(8192);function qt(e,t){if(yn.has(`${e}.${t}`))return yn.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=D(xn(r),"bytes"),o=(t?r.substring(`${t}0x`.length):r).split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&o[i]&&(o[i]=o[i].toUpperCase()),(n[i>>1]&15)>=8&&o[i+1]&&(o[i+1]=o[i+1].toUpperCase());let s=`0x${o.join("")}`;return yn.set(`${e}.${t}`,s),s}var ia=/^0x[a-fA-F0-9]{40}$/,bn=new Qe(8192);function J(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(bn.has(n))return bn.get(n);let o=ia.test(e)?e.toLowerCase()===e?!0:r?qt(e)===e:!0:!1;return bn.set(n,o),o}function ds(e){if(typeof e=="string"){if(!J(e,{strict:!1}))throw new W({address:e});return{address:e,type:"json-rpc"}}if(!J(e.address,{strict:!1}))throw new W({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}function ls(e){let t=D(`0x${e.substring(4)}`).substring(26);return qt(`0x${t}`)}var wn=!1;async function fe({hash:e,privateKey:t,to:r="object"}){let{r:n,s:o,recovery:s}=Xe.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:te(wn,{strict:!1})?V(wn):wn}),i={r:v(n,{size:32}),s:v(o,{size:32}),v:s?28n:27n,yParity:s};return r==="bytes"||r==="hex"?ns({...i,to:r}):i}function ie(e){return typeof e[0]=="string"?Pe(e):aa(e)}function aa(e){let t=0;for(let o of e)t+=o.length;let r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function Pe(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}var gt=class extends b{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Ft=class extends b{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Gt=class extends b{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};var ca={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Gt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ft({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new gt({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new gt({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Wt(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(ca);return r.bytes=e,r.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function we(e,t="hex"){let r=ps(e),n=Wt(new Uint8Array(r.length));return r.encode(n),t==="hex"?G(n.bytes):n.bytes}function ps(e){return Array.isArray(e)?fa(e.map(t=>ps(t))):ua(e)}function fa(e){let t=e.reduce((o,s)=>o+s.length,0),r=hs(t);return{length:t<=55?1+t:1+r+t,encode(o){t<=55?o.pushByte(192+t):(o.pushByte(247+r),r===1?o.pushUint8(t):r===2?o.pushUint16(t):r===3?o.pushUint24(t):o.pushUint32(t));for(let{encode:s}of e)s(o)}}}function ua(e){let t=typeof e=="string"?V(e):e,r=hs(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(o){t.length===1&&t[0]<128?o.pushBytes(t):t.length<=55?(o.pushByte(128+t.length),o.pushBytes(t)):(o.pushByte(183+r),r===1?o.pushUint8(t.length):r===2?o.pushUint16(t.length):r===3?o.pushUint24(t.length):o.pushUint32(t.length),o.pushBytes(t))}}}function hs(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new b("Length is too large.")}function ms(e){let{chainId:t,nonce:r,to:n}=e,o=e.contractAddress??e.address,s=D(Pe(["0x05",we([t?v(t):"0x",o,r?v(r):"0x"])]));return n==="bytes"?V(s):s}async function xs(e){let{chainId:t,nonce:r,privateKey:n,to:o="object"}=e,s=e.contractAddress??e.address,i=await fe({hash:ms({address:s,chainId:t,nonce:r}),privateKey:n,to:o});return o==="object"?{address:s,chainId:t,nonce:r,...i}:i}var gs=`Ethereum Signed Message:
`;function ys(e){let t=typeof e=="string"?Je(e):typeof e.raw=="string"?e.raw:G(e.raw),r=Je(`${gs}${L(t)}`);return ie([r,t])}function bs(e,t){return D(ys(e),t)}async function ws({message:e,privateKey:t}){return await fe({hash:bs(e),privateKey:t,to:"hex"})}var Es={ether:-9,wei:9};function vs(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[o,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${o||"0"}${s?`.${s}`:""}`}function yt(e,t="wei"){return vs(e,Es[t])}function da(e){let t=Object.entries(e).map(([n,o])=>o===void 0||o===!1?null:[n,o]).filter(Boolean),r=t.reduce((n,[o])=>Math.max(n,o.length),0);return t.map(([n,o])=>`  ${`${n}:`.padEnd(r+1)}  ${o}`).join(`
`)}var Kt=class extends b{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}},Zt=class extends b{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",da(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}};var Yt=class extends b{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}};function Is(e){if(!e||e.length===0)return[];let t=[];for(let r of e){let{chainId:n,nonce:o,...s}=r,i=r.address;t.push([n?re(n):"0x",i,o?re(o):"0x",...et({},s)])}return t}function Xt(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(s=>V(s)):e.blobs,o=[];for(let s of n)o.push(Uint8Array.from(t.blobToKzgCommitment(s)));return r==="bytes"?o:o.map(s=>G(s))}function Jt(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(i=>V(i)):e.blobs,o=typeof e.commitments[0]=="string"?e.commitments.map(i=>V(i)):e.commitments,s=[];for(let i=0;i<n.length;i++){let a=n[i],c=o[i];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return r==="bytes"?s:s.map(i=>G(i))}var As=_t;function Bs(e,t){let r=t||"hex",n=As(te(e,{strict:!1})?Vt(e):e);return r==="bytes"?n:re(n)}function Ss(e){let{commitment:t,version:r=1}=e,n=e.to??(typeof t=="string"?"hex":"bytes"),o=Bs(t,"bytes");return o.set([r],0),n==="bytes"?o:G(o)}function Ts(e){let{commitments:t,version:r}=e,n=e.to??(typeof t[0]=="string"?"hex":"bytes"),o=[];for(let s of t)o.push(Ss({commitment:s,to:n,version:r}));return o}var Qt=class extends b{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}},tt=class extends b{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},er=class extends b{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}},tr=class extends b{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}};function Ps(e){let t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?V(e.data):e.data,n=L(r);if(!n)throw new tt;if(n>761855)throw new Qt({maxSize:761855,size:n});let o=[],s=!0,i=0;for(;s;){let a=Wt(new Uint8Array(131072)),c=0;for(;c<4096;){let f=r.slice(i,i+31);if(a.pushByte(0),a.pushBytes(f),f.length<31){a.pushByte(128),s=!1;break}c++,i+=31}o.push(a)}return t==="bytes"?o.map(a=>a.bytes):o.map(a=>G(a.bytes))}function zs(e){let{data:t,kzg:r,to:n}=e,o=e.blobs??Ps({data:t,to:n}),s=e.commitments??Xt({blobs:o,kzg:r,to:n}),i=e.proofs??Jt({blobs:o,commitments:s,kzg:r,to:n}),a=[];for(let c=0;c<o.length;c++)a.push({blob:o[c],commitment:s[c],proof:i[c]});return a}var Ul=2n**(8n-1n)-1n,Cl=2n**(16n-1n)-1n,Ol=2n**(24n-1n)-1n,Ll=2n**(32n-1n)-1n,Nl=2n**(40n-1n)-1n,_l=2n**(48n-1n)-1n,Ml=2n**(56n-1n)-1n,Dl=2n**(64n-1n)-1n,Vl=2n**(72n-1n)-1n,jl=2n**(80n-1n)-1n,ql=2n**(88n-1n)-1n,Fl=2n**(96n-1n)-1n,Gl=2n**(104n-1n)-1n,Wl=2n**(112n-1n)-1n,Kl=2n**(120n-1n)-1n,Zl=2n**(128n-1n)-1n,Yl=2n**(136n-1n)-1n,Xl=2n**(144n-1n)-1n,Jl=2n**(152n-1n)-1n,Ql=2n**(160n-1n)-1n,ep=2n**(168n-1n)-1n,tp=2n**(176n-1n)-1n,rp=2n**(184n-1n)-1n,np=2n**(192n-1n)-1n,op=2n**(200n-1n)-1n,sp=2n**(208n-1n)-1n,ip=2n**(216n-1n)-1n,ap=2n**(224n-1n)-1n,cp=2n**(232n-1n)-1n,fp=2n**(240n-1n)-1n,up=2n**(248n-1n)-1n,dp=2n**(256n-1n)-1n,lp=-(2n**(8n-1n)),pp=-(2n**(16n-1n)),hp=-(2n**(24n-1n)),mp=-(2n**(32n-1n)),xp=-(2n**(40n-1n)),gp=-(2n**(48n-1n)),yp=-(2n**(56n-1n)),bp=-(2n**(64n-1n)),wp=-(2n**(72n-1n)),Ep=-(2n**(80n-1n)),vp=-(2n**(88n-1n)),Ip=-(2n**(96n-1n)),Ap=-(2n**(104n-1n)),Bp=-(2n**(112n-1n)),Sp=-(2n**(120n-1n)),Tp=-(2n**(128n-1n)),Pp=-(2n**(136n-1n)),zp=-(2n**(144n-1n)),$p=-(2n**(152n-1n)),Hp=-(2n**(160n-1n)),Rp=-(2n**(168n-1n)),kp=-(2n**(176n-1n)),Up=-(2n**(184n-1n)),Cp=-(2n**(192n-1n)),Op=-(2n**(200n-1n)),Lp=-(2n**(208n-1n)),Np=-(2n**(216n-1n)),_p=-(2n**(224n-1n)),Mp=-(2n**(232n-1n)),Dp=-(2n**(240n-1n)),Vp=-(2n**(248n-1n)),jp=-(2n**(256n-1n)),qp=2n**8n-1n,Fp=2n**16n-1n,Gp=2n**24n-1n,Wp=2n**32n-1n,Kp=2n**40n-1n,Zp=2n**48n-1n,Yp=2n**56n-1n,Xp=2n**64n-1n,Jp=2n**72n-1n,Qp=2n**80n-1n,eh=2n**88n-1n,th=2n**96n-1n,rh=2n**104n-1n,nh=2n**112n-1n,oh=2n**120n-1n,sh=2n**128n-1n,ih=2n**136n-1n,ah=2n**144n-1n,ch=2n**152n-1n,fh=2n**160n-1n,uh=2n**168n-1n,dh=2n**176n-1n,lh=2n**184n-1n,ph=2n**192n-1n,hh=2n**200n-1n,mh=2n**208n-1n,xh=2n**216n-1n,gh=2n**224n-1n,yh=2n**232n-1n,bh=2n**240n-1n,wh=2n**248n-1n,rr=2n**256n-1n;var Me=class extends b{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}};var nr=class extends b{constructor({cause:t,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}};Object.defineProperty(nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});var De=class extends b{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${yt(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}};Object.defineProperty(De,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});var En=class extends b{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${yt(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}};Object.defineProperty(En,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});var vn=class extends b{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}};Object.defineProperty(vn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});var In=class extends b{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}};Object.defineProperty(In,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});var An=class extends b{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}};Object.defineProperty(An,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});var Bn=class extends b{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(Bn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});var Sn=class extends b{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(Sn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});var Tn=class extends b{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(Tn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});var Pn=class extends b{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(Pn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});var bt=class extends b{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${yt(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${yt(n)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}};Object.defineProperty(bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});function or(e,t,r,{strict:n}={}){return te(e,{strict:!1})?ma(e,t,r,{strict:n}):ha(e,t,r,{strict:n})}function $s(e,t){if(typeof t=="number"&&t>0&&t>L(e)-1)throw new ht({offset:t,position:"start",size:L(e)})}function Hs(e,t,r){if(typeof t=="number"&&typeof r=="number"&&L(e)!==r-t)throw new ht({offset:r,position:"end",size:L(e)})}function ha(e,t,r,{strict:n}={}){$s(e,t);let o=e.slice(t,r);return n&&Hs(o,t,r),o}function ma(e,t,r,{strict:n}={}){$s(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&Hs(o,t,r),o}function Rs(e){let{authorizationList:t}=e;if(t)for(let r of t){let{chainId:n}=r,o=r.address;if(!J(o))throw new W({address:o});if(n<0)throw new Me({chainId:n})}sr(e)}function ks(e){let{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new tt;for(let r of t){let n=L(r),o=rs(or(r,0,1));if(n!==32)throw new er({hash:r,size:n});if(o!==1)throw new tr({hash:r,version:o})}}sr(e)}function sr(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:o}=e;if(t<=0)throw new Me({chainId:t});if(o&&!J(o))throw new W({address:o});if(n&&n>rr)throw new De({maxFeePerGas:n});if(r&&n&&r>n)throw new bt({maxFeePerGas:n,maxPriorityFeePerGas:r})}function Us(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:s}=e;if(t<=0)throw new Me({chainId:t});if(s&&!J(s))throw new W({address:s});if(r||o)throw new b("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>rr)throw new De({maxFeePerGas:n})}function Cs(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:o,to:s}=e;if(s&&!J(s))throw new W({address:s});if(typeof t<"u"&&t<=0)throw new Me({chainId:t});if(r||o)throw new b("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>rr)throw new De({maxFeePerGas:n})}function Os(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Zt({transaction:e})}function wt(e){if(!e||e.length===0)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:o}=e[r];for(let s=0;s<o.length;s++)if(o[s].length-2!==64)throw new Yt({storageKey:o[s]});if(!J(n,{strict:!1}))throw new W({address:n});t.push([n,o])}return t}function Ls(e,t){let r=Os(e);return r==="eip1559"?ya(e,t):r==="eip2930"?ba(e,t):r==="eip4844"?ga(e,t):r==="eip7702"?xa(e,t):wa(e,t)}function xa(e,t){let{authorizationList:r,chainId:n,gas:o,nonce:s,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:f,accessList:u,data:l}=e;Rs(e);let x=wt(u),y=Is(r);return Pe(["0x04",we([v(n),s?v(s):"0x",f?v(f):"0x",c?v(c):"0x",o?v(o):"0x",i??"0x",a?v(a):"0x",l??"0x",x,y,...et(e,t)])])}function ga(e,t){let{chainId:r,gas:n,nonce:o,to:s,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:f,accessList:u,data:l}=e;ks(e);let x=e.blobVersionedHashes,y=e.sidecars;if(e.blobs&&(typeof x>"u"||typeof y>"u")){let I=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(w=>G(w)),d=e.kzg,m=Xt({blobs:I,kzg:d});if(typeof x>"u"&&(x=Ts({commitments:m})),typeof y>"u"){let w=Jt({blobs:I,commitments:m,kzg:d});y=zs({blobs:I,commitments:m,proofs:w})}}let R=wt(u),g=[v(r),o?v(o):"0x",f?v(f):"0x",c?v(c):"0x",n?v(n):"0x",s??"0x",i?v(i):"0x",l??"0x",R,a?v(a):"0x",x??[],...et(e,t)],N=[],C=[],Q=[];if(y)for(let I=0;I<y.length;I++){let{blob:d,commitment:m,proof:w}=y[I];N.push(d),C.push(m),Q.push(w)}return Pe(["0x03",y?we([g,N,C,Q]):we(g)])}function ya(e,t){let{chainId:r,gas:n,nonce:o,to:s,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:f,data:u}=e;sr(e);let l=wt(f),x=[v(r),o?v(o):"0x",c?v(c):"0x",a?v(a):"0x",n?v(n):"0x",s??"0x",i?v(i):"0x",u??"0x",l,...et(e,t)];return Pe(["0x02",we(x)])}function ba(e,t){let{chainId:r,gas:n,data:o,nonce:s,to:i,value:a,accessList:c,gasPrice:f}=e;Us(e);let u=wt(c),l=[v(r),s?v(s):"0x",f?v(f):"0x",n?v(n):"0x",i??"0x",a?v(a):"0x",o??"0x",u,...et(e,t)];return Pe(["0x01",we(l)])}function wa(e,t){let{chainId:r=0,gas:n,data:o,nonce:s,to:i,value:a,gasPrice:c}=e;Cs(e);let f=[s?v(s):"0x",c?v(c):"0x",n?v(n):"0x",i??"0x",a?v(a):"0x",o??"0x"];if(t){let u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);let y=27n+(t.v===27n?0n:1n);if(t.v!==y)throw new Kt({v:t.v});return y})(),l=pt(t.r),x=pt(t.s);f=[...f,v(u),l==="0x00"?"0x":l,x==="0x00"?"0x":x]}else r>0&&(f=[...f,v(r),"0x","0x"]);return we(f)}function et(e,t){let r=t??e,{v:n,yParity:o}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof o>"u")return[];let s=pt(r.r),i=pt(r.s);return[typeof o=="number"?o?v(1):"0x":n===0n?"0x":n===1n?v(1):n===27n?"0x":v(1),s==="0x00"?"0x":s,i==="0x00"?"0x":i]}async function Ns(e){let{privateKey:t,transaction:r,serializer:n=Ls}=e,o=r.type==="eip4844"?{...r,sidecars:!1}:r,s=await fe({hash:D(await n(o)),privateKey:t});return await n(r,s)}var ir=class extends b{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},ar=class extends b{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${L(r)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},cr=class extends b{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}};var fr=class extends b{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};var ur=class extends b{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}};var dr=class extends b{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};var _s=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lr=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function zn(e,t){if(e.length!==t.length)throw new cr({expectedLength:e.length,givenLength:t.length});let r=Ea({params:e,values:t}),n=Hn(r);return n.length===0?"0x":n}function Ea({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push($n({param:e[n],value:t[n]}));return r}function $n({param:e,value:t}){let r=za(e.type);if(r){let[n,o]=r;return Ia(t,{length:n,param:{...e,type:o}})}if(e.type==="tuple")return Pa(t,{param:e});if(e.type==="address")return va(t);if(e.type==="bool")return Ba(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){let n=e.type.startsWith("int"),[,,o="256"]=lr.exec(e.type)??[];return Sa(t,{signed:n,size:Number(o)})}if(e.type.startsWith("bytes"))return Aa(t,{param:e});if(e.type==="string")return Ta(t);throw new ur(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Hn(e){let t=0;for(let s=0;s<e.length;s++){let{dynamic:i,encoded:a}=e[s];i?t+=32:t+=L(a)}let r=[],n=[],o=0;for(let s=0;s<e.length;s++){let{dynamic:i,encoded:a}=e[s];i?(r.push(v(t+o,{size:32})),n.push(a),o+=L(a)):r.push(a)}return ie([...r,...n])}function va(e){if(!J(e))throw new W({address:e});return{dynamic:!1,encoded:ye(e.toLowerCase())}}function Ia(e,{length:t,param:r}){let n=t===null;if(!Array.isArray(e))throw new dr(e);if(!n&&e.length!==t)throw new ir({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let o=!1,s=[];for(let i=0;i<e.length;i++){let a=$n({param:r,value:e[i]});a.dynamic&&(o=!0),s.push(a)}if(n||o){let i=Hn(s);if(n){let a=v(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?ie([a,i]):a}}if(o)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ie(s.map(({encoded:i})=>i))}}function Aa(e,{param:t}){let[,r]=t.type.split("bytes"),n=L(e);if(!r){let o=e;return n%32!==0&&(o=ye(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ie([ye(v(n,{size:32})),o])}}if(n!==Number.parseInt(r,10))throw new ar({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:ye(e,{dir:"right"})}}function Ba(e){if(typeof e!="boolean")throw new b(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ye(mn(e))}}function Sa(e,{signed:t,size:r=256}){if(typeof r=="number"){let n=2n**(BigInt(r)-(t?1n:0n))-1n,o=t?-n-1n:0n;if(e>n||e<o)throw new Be({max:n.toString(),min:o.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:v(e,{size:32,signed:t})}}function Ta(e){let t=Je(e),r=Math.ceil(L(t)/32),n=[];for(let o=0;o<r;o++)n.push(ye(or(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ie([ye(v(L(t),{size:32})),...n])}}function Pa(e,{param:t}){let r=!1,n=[];for(let o=0;o<t.components.length;o++){let s=t.components[o],i=Array.isArray(e)?o:s.name,a=$n({param:s,value:e[i]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Hn(n):ie(n.map(({encoded:o})=>o))}}function za(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}var Ms=(e,t,r)=>JSON.stringify(e,(n,o)=>{let s=typeof o=="bigint"?o.toString():o;return typeof t=="function"?t(n,s):s},r);var pr=class extends b{constructor({domain:t}){super(`Invalid domain "${Ms(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},hr=class extends b{constructor({primaryType:t,types:r}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},mr=class extends b{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};function Ds(e){let{domain:t,message:r,primaryType:n,types:o}=e,s=(i,a)=>{for(let c of i){let{name:f,type:u}=c,l=a[f],x=u.match(lr);if(x&&(typeof l=="number"||typeof l=="bigint")){let[g,N,C]=x;v(l,{signed:N==="int",size:Number.parseInt(C,10)/8})}if(u==="address"&&typeof l=="string"&&!J(l))throw new W({address:l});let y=u.match(_s);if(y){let[g,N]=y;if(N&&L(l)!==Number.parseInt(N,10))throw new fr({expectedSize:Number.parseInt(N,10),givenSize:L(l)})}let R=o[u];R&&($a(u),s(R,l))}};if(o.EIP712Domain&&t){if(typeof t!="object")throw new pr({domain:t});s(o.EIP712Domain,t)}if(n!=="EIP712Domain")if(o[n])s(o[n],r);else throw new hr({primaryType:n,types:o})}function Vs({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function $a(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new mr({type:e})}function js(e){let{domain:t={},message:r,primaryType:n}=e,o={EIP712Domain:Vs({domain:t}),...e.types};Ds({domain:t,message:r,primaryType:n,types:o});let s=["0x1901"];return t&&s.push(Ha({domain:t,types:o})),n!=="EIP712Domain"&&s.push(qs({data:r,primaryType:n,types:o})),D(ie(s))}function Ha({domain:e,types:t}){return qs({data:e,primaryType:"EIP712Domain",types:t})}function qs({data:e,primaryType:t,types:r}){let n=Fs({data:e,primaryType:t,types:r});return D(n)}function Fs({data:e,primaryType:t,types:r}){let n=[{type:"bytes32"}],o=[Ra({primaryType:t,types:r})];for(let s of r[t]){let[i,a]=Ws({types:r,name:s.name,type:s.type,value:e[s.name]});n.push(i),o.push(a)}return zn(n,o)}function Ra({primaryType:e,types:t}){let r=re(ka({primaryType:e,types:t}));return D(r)}function ka({primaryType:e,types:t}){let r="",n=Gs({primaryType:e,types:t});n.delete(e);let o=[e,...Array.from(n).sort()];for(let s of o)r+=`${s}(${t[s].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return r}function Gs({primaryType:e,types:t},r=new Set){let o=e.match(/^\w*/u)?.[0];if(r.has(o)||t[o]===void 0)return r;r.add(o);for(let s of t[o])Gs({primaryType:s.type,types:t},r);return r}function Ws({types:e,name:t,type:r,value:n}){if(e[r]!==void 0)return[{type:"bytes32"},D(Fs({data:n,primaryType:r,types:e}))];if(r==="bytes")return[{type:"bytes32"},D(n)];if(r==="string")return[{type:"bytes32"},D(re(n))];if(r.lastIndexOf("]")===r.length-1){let o=r.slice(0,r.lastIndexOf("[")),s=n.map(i=>Ws({name:t,type:o,types:e,value:i}));return[{type:"bytes32"},D(zn(s.map(([i])=>i),s.map(([,i])=>i)))]}return[{type:r},n]}async function Ks(e){let{privateKey:t,...r}=e;return await fe({hash:js(r),privateKey:t,to:"hex"})}function Rn(e,t={}){let{nonceManager:r}=t,n=re(Xe.getPublicKey(e.slice(2),!1)),o=ls(n);return{...ds({address:o,nonceManager:r,async sign({hash:i}){return fe({hash:i,privateKey:e,to:"hex"})},async signAuthorization(i){return xs({...i,privateKey:e})},async signMessage({message:i}){return ws({message:i,privateKey:e})},async signTransaction(i,{serializer:a}={}){return Ns({privateKey:e,transaction:i,serializer:a})},async signTypedData(i){return Ks({...i,privateKey:e})}}),publicKey:n,source:"privateKey"}}async function ux(e,t){if(!t||!t.startsWith("0x")||t.length!==66)throw new Error("Invalid private key format. Must start with 0x and be 66 characters (0x + 64 hex chars).");let r=Rn(t),n={address:r.address,signTypedData:async i=>await r.signTypedData(i)},o=new Cn;return o.register("eip155:84532",new Mr(n)),await o.createPaymentPayload(e)}export{ux as signPayment};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
